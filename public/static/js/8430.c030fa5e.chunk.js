"use strict";(self.webpackChunkabokisub_recovered=self.webpackChunkabokisub_recovered||[]).push([[8430],{24753(e,r,n){n.d(r,{A:()=>v});var a=n(89379),s=n(80045),o=n(90620),t=n.n(o),i=n(96446),c=n(85865),l=n(88446),d=n(35475),u=n(22698),A=n(70579);const h=["links","activeLast"];function x(e){let{links:r,activeLast:n=!1}=e,o=(0,s.A)(e,h);const t=r[r.length-1].name,l=r.map(e=>(0,A.jsx)(m,{link:e},e.name)),d=r.map(e=>(0,A.jsx)("div",{children:e.name!==t?(0,A.jsx)(m,{link:e}):(0,A.jsx)(c.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:t})},e.name));return(0,A.jsx)(u.A,(0,a.A)((0,a.A)({separator:(0,A.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:n?l:d}))}function m(e){let{link:r}=e;const{href:n,name:a,icon:s}=r;return(0,A.jsxs)(l.A,{variant:"body2",component:d.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,A.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),a]},a)}const p=["links","action","heading","moreLink","sx"];function v(e){let{links:r,action:n,heading:o,moreLink:d=[],sx:u}=e,h=(0,s.A)(e,p);return(0,A.jsxs)(i.A,{sx:(0,a.A)({mb:5},u),children:[(0,A.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,A.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:o}),(0,A.jsx)(x,(0,a.A)({links:r},h))]}),n&&(0,A.jsx)(i.A,{sx:{flexShrink:0},children:n})]}),(0,A.jsx)(i.A,{sx:{mt:2},children:t()(d)?(0,A.jsx)(l.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map(e=>(0,A.jsx)(l.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}},48430(e,r,n){n.r(r),n.d(r,{default:()=>C});var a=n(19252),s=n(48407),o=n(11737),t=n(19838),i=n(24753),c=n(65043),l=n(46987),d=n(96446),u=n(81637),A=n(88911),h=n(12110),x=n(85865),m=n(4598),p=n(79650),v=n(71806),b=n(84882),f=n(28076),j=n(10039),k=n(73460),g=n(84473),y=n(70579);function w(){const{enqueueSnackbar:e}=(0,l.dh)(),[r,n]=(0,c.useState)([]),[a,s]=(0,c.useState)(!1),[o,t]=(0,c.useState)(!0),i=window.localStorage.getItem("accessToken"),w=async()=>{try{t(!0);const r=await g.A.get("/api/secure/trans/settings/".concat(i,"/habukhan/secure"));var e;if("success"===r.data.status)n(r.data.providers),s(!(null===(e=r.data.settings)||void 0===e||!e.transfer_lock_all))}catch(r){console.error(r)}finally{t(!1)}};(0,c.useEffect)(()=>{w()},[]);return o?(0,y.jsx)(d.A,{display:"flex",justifyContent:"center",sx:{p:5},children:(0,y.jsx)(u.A,{})}):(0,y.jsxs)(A.A,{spacing:3,children:[(0,y.jsx)(h.A,{sx:{p:3,bgcolor:a?"error.lighter":"success.lighter"},children:(0,y.jsxs)(A.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,y.jsxs)(d.A,{children:[(0,y.jsx)(x.A,{variant:"h6",color:a?"error.main":"success.main",children:"Global External Transfer Lock"}),(0,y.jsx)(x.A,{variant:"body2",color:"text.secondary",children:a?"All external bank transfers are currently DISABLED system-wide.":"External bank transfers are ACTIVE. Individual provider locks still apply."})]}),(0,y.jsx)(m.A,{checked:a,onChange:async()=>{try{const r=a?"unlock":"lock",n=await g.A.post("/api/secure/toggle/globaltransferlock/".concat(i,"/habukhan/secure"),{action:r});"success"===n.data.status&&(e(n.data.message),s(!a))}catch(r){e("Failed to update global lock status",{variant:"error"})}},color:"error"})]})}),(0,y.jsxs)(h.A,{sx:{p:3},children:[(0,y.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Individual Bank Provider Locks"}),(0,y.jsx)(p.A,{children:(0,y.jsxs)(v.A,{children:[(0,y.jsx)(b.A,{children:(0,y.jsxs)(f.A,{children:[(0,y.jsx)(j.A,{children:"Provider Name"}),(0,y.jsx)(j.A,{align:"center",children:"Status"}),(0,y.jsx)(j.A,{align:"right",children:"Action"})]})}),(0,y.jsx)(k.A,{children:r.map(r=>(0,y.jsxs)(f.A,{children:[(0,y.jsx)(j.A,{children:r.name}),(0,y.jsx)(j.A,{align:"center",children:(0,y.jsx)(x.A,{variant:"caption",sx:{color:r.is_locked?"error.main":"success.main",fontWeight:"bold"},children:r.is_locked?"LOCKED":"ACTIVE"})}),(0,y.jsx)(j.A,{align:"right",children:(0,y.jsx)(m.A,{checked:!r.is_locked,onChange:()=>(async(r,n)=>{try{const a=n?"unlock":"lock",s=await g.A.post("/api/secure/lock/bank/".concat(i,"/habukhan/secure"),{slug:r,action:a});"success"===s.data.status&&(e(s.data.message),w())}catch(a){e("Failed to update provider status",{variant:"error"})}})(r.slug,r.is_locked),color:"success"})})]},r.slug))})]})})]})]})}function C(){const{themeStretch:e}=(0,o.A)();return(0,y.jsx)(t.A,{title:"Single Bank Lock",children:(0,y.jsxs)(a.A,{maxWidth:!e&&"lg",children:[(0,y.jsx)(i.A,{heading:"Single Bank Lock",links:[{name:"Dashboard",href:s.mB.general.app},{name:"Lock / Unlock",href:"#"},{name:"Single Bank Lock"}]}),(0,y.jsx)(w,{})]})})}},12110(e,r,n){n.d(r,{A:()=>v});var a=n(58168),s=n(98587),o=n(65043),t=n(58387),i=n(98610),c=n(34535),l=n(98206),d=n(63336),u=n(92532),A=n(72372);function h(e){return(0,A.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var x=n(70579);const m=["className","raised"],p=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})(()=>({overflow:"hidden"})),v=o.forwardRef(function(e,r){const n=(0,l.b)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=n,d=(0,s.A)(n,m),u=(0,a.A)({},n,{raised:c}),A=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},h,r)})(u);return(0,x.jsx)(p,(0,a.A)({className:(0,t.A)(A.root,o),elevation:c?8:void 0,ref:r,ownerState:u},d))})},73460(e,r,n){n.d(r,{A:()=>f});var a=n(58168),s=n(98587),o=n(65043),t=n(58387),i=n(98610),c=n(21573),l=n(98206),d=n(34535),u=n(92532),A=n(72372);function h(e){return(0,A.Ay)("MuiTableBody",e)}(0,u.A)("MuiTableBody",["root"]);var x=n(70579);const m=["className","component"],p=(0,d.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-row-group"}),v={variant:"body"},b="tbody",f=o.forwardRef(function(e,r){const n=(0,l.b)({props:e,name:"MuiTableBody"}),{className:o,component:d=b}=n,u=(0,s.A)(n,m),A=(0,a.A)({},n,{component:d}),f=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},h,r)})(A);return(0,x.jsx)(c.A.Provider,{value:v,children:(0,x.jsx)(p,(0,a.A)({className:(0,t.A)(f.root,o),as:d,ref:r,role:d===b?null:"rowgroup",ownerState:A},u))})})},79650(e,r,n){n.d(r,{A:()=>p});var a=n(58168),s=n(98587),o=n(65043),t=n(58387),i=n(98610),c=n(98206),l=n(34535),d=n(92532),u=n(72372);function A(e){return(0,u.Ay)("MuiTableContainer",e)}(0,d.A)("MuiTableContainer",["root"]);var h=n(70579);const x=["className","component"],m=(0,l.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,r)=>r.root})({width:"100%",overflowX:"auto"}),p=o.forwardRef(function(e,r){const n=(0,c.b)({props:e,name:"MuiTableContainer"}),{className:o,component:l="div"}=n,d=(0,s.A)(n,x),u=(0,a.A)({},n,{component:l}),p=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},A,r)})(u);return(0,h.jsx)(m,(0,a.A)({ref:r,as:l,className:(0,t.A)(p.root,o),ownerState:u},d))})},84882(e,r,n){n.d(r,{A:()=>f});var a=n(58168),s=n(98587),o=n(65043),t=n(58387),i=n(98610),c=n(21573),l=n(98206),d=n(34535),u=n(92532),A=n(72372);function h(e){return(0,A.Ay)("MuiTableHead",e)}(0,u.A)("MuiTableHead",["root"]);var x=n(70579);const m=["className","component"],p=(0,d.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-header-group"}),v={variant:"head"},b="thead",f=o.forwardRef(function(e,r){const n=(0,l.b)({props:e,name:"MuiTableHead"}),{className:o,component:d=b}=n,u=(0,s.A)(n,m),A=(0,a.A)({},n,{component:d}),f=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},h,r)})(A);return(0,x.jsx)(c.A.Provider,{value:v,children:(0,x.jsx)(p,(0,a.A)({as:d,className:(0,t.A)(f.root,o),ref:r,role:d===b?null:"rowgroup",ownerState:A},u))})})}}]);
//# sourceMappingURL=8430.c030fa5e.chunk.js.map