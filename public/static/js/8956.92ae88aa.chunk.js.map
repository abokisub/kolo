{"version":3,"file":"static/js/8956.92ae88aa.chunk.js","mappings":"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","sources":["sections/auth/change-password.js","pages/resetpassword.js","sections/auth/register/RegisterForm.js","sections/auth/reset-password/ResetPasswordForm.js","sections/auth/verify-code/VerifyCodeForm.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n// form\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useForm } from 'react-hook-form';\r\n// @mui\r\nimport { Stack, InputAdornment, IconButton } from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// hooks\r\nimport useIsMountedRef from '../../hooks/useIsMountedRef';\r\n// components\r\nimport { FormProvider, RHFTextField } from '../../components/hook-form';\r\nimport axios from '../../utils/axios';\r\nimport Iconify from '../../components/Iconify';\r\n// ----------------------------------------------------------------------\r\n\r\nChangePasswordForm.propTypes = {\r\n  onSent: PropTypes.func,\r\n};\r\n\r\nexport default function ChangePasswordForm({ onSent }) {\r\n  const isMountedRef = useIsMountedRef();\r\n  const { name = '' } = useParams();\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const ResetPasswordSchema = Yup.object().shape({\r\n    password: Yup.string().required('Password is required'),\r\n    confirmpassword: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match'),\r\n  });\r\n\r\n  const methods = useForm({\r\n    resolver: yupResolver(ResetPasswordSchema),\r\n    defaultValues: { password: '', confirmpassword: '' },\r\n  });\r\n\r\n  const {\r\n    handleSubmit,\r\n    formState: { isSubmitting },\r\n  } = methods;\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      await axios.post(`/api/change/mypassword/${name}/secure`, data)\r\n      if (isMountedRef.current) {\r\n        onSent();\r\n      }\r\n    } catch (error) {\r\n      if (error.data?.message !== undefined) {\r\n        enqueueSnackbar(error.data?.message, { variant: 'error' })\r\n      } else if (error?.message !== undefined) {\r\n        enqueueSnackbar(error?.message, { variant: 'error' })\r\n      } else {\r\n        enqueueSnackbar('Something Went Wrong', { variant: 'error' })\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n      <Stack spacing={3}>\r\n        <RHFTextField\r\n          name=\"password\"\r\n          label=\"New Password\"\r\n          type={showPassword ? 'text' : 'password'}\r\n          InputLabelProps={{ shrink: true }}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={() => setShowPassword(!showPassword)} edge=\"end\">\r\n                  <Iconify icon={showPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n        <RHFTextField\r\n          name=\"confirmpassword\"\r\n          label=\"Confirm Password\"\r\n          type={showPassword ? 'text' : 'password'}\r\n          InputLabelProps={{ shrink: true }}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={() => setShowPassword(!showPassword)} edge=\"end\">\r\n                  <Iconify icon={showPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n        <LoadingButton fullWidth size=\"large\" type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n          Reset Password\r\n        </LoadingButton>\r\n      </Stack>\r\n    </FormProvider>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Button, Container, Typography } from '@mui/material';\r\n// layouts\r\nimport LogoOnlyLayout from '../layouts/LogoOnlyLayout';\r\n// routes\r\nimport { PATH_AUTH } from '../routes/paths';\r\n// components\r\nimport Page from '../components/Page';\r\n// sections\r\nimport { ChangePasswordForm } from '../sections/auth';\r\n// assets\r\nimport { SentIcon } from '../assets';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  minHeight: '100%',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  padding: theme.spacing(12, 0),\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function ChangePassword() {\r\n  const [sent, setSent] = useState(false);\r\n\r\n  return (\r\n    <Page title=\"Change Password\" sx={{ height: 1 }}>\r\n      <RootStyle>\r\n        <LogoOnlyLayout />\r\n\r\n        <Container>\r\n          <Box sx={{ maxWidth: 480, mx: 'auto' }}>\r\n            {!sent ? (\r\n              <>\r\n                <Typography variant=\"h3\" paragraph>\r\n                 Reset Password\r\n                </Typography>\r\n                <Typography sx={{ color: 'text.secondary', mb: 5 }}>\r\n                  Please enter a strong password\r\n                </Typography>\r\n\r\n                <ChangePasswordForm onSent={() => setSent(true)} />\r\n\r\n                <Button fullWidth size=\"large\" component={RouterLink} to={PATH_AUTH.login} sx={{ mt: 1 }}>\r\n                  Back\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <Box sx={{ textAlign: 'center' }}>\r\n                <SentIcon sx={{ mb: 5, mx: 'auto', height: 160 }} />\r\n\r\n                <Typography variant=\"h3\" gutterBottom>\r\n                 password Reset Successfully\r\n                </Typography>\r\n              \r\n\r\n                <Button size=\"large\" variant=\"contained\" component={RouterLink} to={PATH_AUTH.login} sx={{ mt: 5 }}>\r\n                  Back\r\n                </Button>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Container>\r\n      </RootStyle>\r\n    </Page>\r\n  );\r\n}\r\n","import * as Yup from 'yup';\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n// form\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n// @mui\r\nimport { Stack, IconButton, InputAdornment, Alert, Typography } from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport useIsMountedRef from '../../../hooks/useIsMountedRef';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport { FormProvider, RHFTextField } from '../../../components/hook-form';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function RegisterForm() {\r\n  const { register } = useAuth();\r\n  const { name = '' } = useParams();\r\n  const isMountedRef = useIsMountedRef();\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const RegisterSchema = Yup.object().shape({\r\n    firstName: Yup.string().required('Full name required'),\r\n    username: Yup.string().required('Username name required'),\r\n    email: Yup.string().email('Email must be a valid email address').required('Email is required'),\r\n    password: Yup.string().required('Password is required'),\r\n    phone: Yup.string().required('Phone Number Required'),\r\n    pin: Yup.string().min(4, 'Transaction Pin Must Be 4 Digits').max(4, 'Transaction Pin Must Be 4 Digit').required('Transaction Pin Required'),\r\n  });\r\n\r\n  const methods = useForm({\r\n    resolver: yupResolver(RegisterSchema),\r\n    defaultValues: {\r\n      firstName: '',\r\n      username: '',\r\n      email: '',\r\n      phone: '',\r\n      password: '',\r\n      pin: '',\r\n      ref: name || '',\r\n    },\r\n  });\r\n\r\n  const {\r\n    setError,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n  } = methods;\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      await register(data.email, data.password, data.firstName, data.username, data.phone, data.ref, data.pin);\r\n    } catch (error) {\r\n      if (isMountedRef.current) {\r\n        setError('afterSubmit', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n      <Stack spacing={3}>\r\n        {!!errors.afterSubmit && <Alert severity=\"error\">{errors.afterSubmit.message}</Alert>}\r\n\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n          <RHFTextField name=\"firstName\" label=\"Full Name\" />\r\n          <RHFTextField name=\"username\" label=\"Username\" InputLabelProps={{ shrink: true }} />\r\n        </Stack>\r\n\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n          <RHFTextField name=\"email\" label=\"Email address\" InputLabelProps={{ shrink: true }} />\r\n          <RHFTextField name=\"phone\" type=\"number\" label=\"Phone Number\" />\r\n          <RHFTextField name=\"pin\" type=\"number\" label=\"Transaction Pin (4 Digits)\" />\r\n        </Stack>\r\n\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\r\n          <RHFTextField name=\"ref\" label=\"Referral Username (Optional)\" disabled={name !== ''} />\r\n          <RHFTextField\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type={showPassword ? 'text' : 'password'}\r\n            InputLabelProps={{ shrink: true }}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton edge=\"end\" onClick={() => setShowPassword(!showPassword)}>\r\n                    <Iconify icon={showPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Stack>\r\n\r\n        <LoadingButton\r\n          fullWidth\r\n          size=\"large\"\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          loading={isSubmitting}\r\n          sx={{\r\n            bgcolor: 'primary.main',\r\n            '&:hover': { bgcolor: 'primary.dark' },\r\n            boxShadow: 'none',\r\n          }}\r\n        >\r\n          Register\r\n        </LoadingButton>\r\n      </Stack>\r\n    </FormProvider>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n// form\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useForm } from 'react-hook-form';\r\n// @mui\r\nimport { Stack } from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// hooks\r\nimport useIsMountedRef from '../../../hooks/useIsMountedRef';\r\n// components\r\nimport { FormProvider, RHFTextField } from '../../../components/hook-form';\r\nimport axios from '../../../utils/axios';\r\n// ----------------------------------------------------------------------\r\n\r\nResetPasswordForm.propTypes = {\r\n  onSent: PropTypes.func,\r\n  onGetEmail: PropTypes.func,\r\n};\r\n\r\nexport default function ResetPasswordForm({ onSent, onGetEmail }) {\r\n  const isMountedRef = useIsMountedRef();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const ResetPasswordSchema = Yup.object().shape({\r\n    email: Yup.string().email('Email must be a valid email address').required('Email is required'),\r\n  });\r\n\r\n  const methods = useForm({\r\n    resolver: yupResolver(ResetPasswordSchema),\r\n    defaultValues: { email: '' },\r\n  });\r\n\r\n  const {\r\n    handleSubmit,\r\n    formState: { isSubmitting },\r\n  } = methods;\r\n\r\n  const onSubmit = async (data) => { \r\n    try {\r\n      await axios.post('/api/reset/mypassword',data)\r\n      if (isMountedRef.current) {\r\n        onSent();\r\n        onGetEmail(data.email);\r\n      }\r\n    } catch (error) {\r\n      if(error.data?.message !== undefined){\r\n        enqueueSnackbar(error.data?.message, { variant: 'error' })  \r\n         } else if(error?.message !== undefined){\r\n            enqueueSnackbar(error?.message, { variant: 'error' })   \r\n         }else{\r\n            enqueueSnackbar('Something Went Wrong', { variant: 'error' })   \r\n         }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n      <Stack spacing={3}>\r\n        <RHFTextField name=\"email\" label=\"Email address\" />\r\n\r\n        <LoadingButton fullWidth size=\"large\" type=\"submit\" variant=\"contained\" loading={isSubmitting}>\r\n          Reset Password\r\n        </LoadingButton>\r\n      </Stack>\r\n    </FormProvider>\r\n  );\r\n}\r\n","import * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useEffect } from 'react';\r\n// form\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n// @mui\r\nimport { OutlinedInput, Stack, Alert } from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport useIsMountedRef from '../../../hooks/useIsMountedRef';\r\n// routes\r\n\r\n\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function VerifyCodeForm() {\r\n  const { verify, user } = useAuth();\r\n   const { enqueueSnackbar } = useSnackbar();\r\n  const isMountedRef = useIsMountedRef();\r\n\r\n\r\n\r\n  const VerifyCodeSchema = Yup.object().shape({\r\n    code1: Yup.string().required('Code is required'),\r\n    code2: Yup.string().required('Code is required'),\r\n    code3: Yup.string().required('Code is required'),\r\n    code4: Yup.string().required('Code is required'),\r\n    code5: Yup.string().required('Code is required'),\r\n    code6: Yup.string().required('Code is required'),\r\n  });\r\n\r\n  const defaultValues = {\r\n    code1: '',\r\n    code2: '',\r\n    code3: '',\r\n    code4: '',\r\n    code5: '',\r\n    code6: '',\r\n  };\r\n\r\n  const {\r\n    watch,\r\n    control,\r\n    setValue,\r\n    handleSubmit,\r\n    setError,\r\n    formState: {errors, isSubmitting, isValid },\r\n  } = useForm({\r\n    mode: 'onBlur',\r\n    defaultValues,\r\n    resolver: yupResolver(VerifyCodeSchema),\r\n  });\r\n\r\n  const values = watch();\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('paste', handlePasteClipboard);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n \r\n\r\n  const onSubmit = async (data) => {\r\n   \r\n    \r\n    const key =  Object.values(data).join('');\r\n    try {\r\n      await  verify(key,user.email);\r\n       enqueueSnackbar('Account Verified');\r\n    } catch (error) {\r\n      if (isMountedRef.current){\r\n        setError('afterSubmit', error);\r\n        \r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePasteClipboard = (event) => {\r\n    let data = event?.clipboardData?.getData('Text') || '';\r\n\r\n    data = data.split('');\r\n\r\n    [].forEach.call(document.querySelectorAll('#field-code'), (node, index) => {\r\n      node.value = data[index];\r\n      const fieldIndex = `code${index + 1}`;\r\n      setValue(fieldIndex, data[index]);\r\n    });\r\n  };\r\n  const handleChangeWithNextField = (event, handleChange) => {\r\n    const { maxLength, value, name } = event.target;\r\n    const fieldIndex = name.replace('code', '');\r\n\r\n    const fieldIntIndex = Number(fieldIndex);\r\n\r\n    if (value.length >= maxLength) {\r\n      if (fieldIntIndex < 6) {\r\n        const nextfield = document.querySelector(`input[name=code${fieldIntIndex + 1}]`);\r\n        if (nextfield !== null) {\r\n          nextfield.focus();\r\n        }\r\n      }\r\n    }\r\n\r\n    handleChange(event);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n        {!!errors.afterSubmit && <Alert severity=\"error\">{errors.afterSubmit.message}</Alert>}\r\n      <Stack direction=\"row\" spacing={2} justifyContent=\"center\">\r\n        {Object.keys(values).map((name, index) => (\r\n          <Controller\r\n            key={name}\r\n            name={`code${index + 1}`}\r\n            control={control}\r\n            render={({ field }) => (\r\n              <OutlinedInput\r\n                {...field}\r\n                id=\"field-code\"\r\n                autoFocus={index === 0}\r\n                placeholder=\"-\"\r\n                onChange={(event) => handleChangeWithNextField(event, field.onChange)}\r\n                inputProps={{\r\n                  maxLength: 1,\r\n                  sx: {\r\n                    p: 0,\r\n                    textAlign: 'center',\r\n                    width: { xs: 36, sm: 56 },\r\n                    height: { xs: 36, sm: 56 },\r\n                  },\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        ))}\r\n      </Stack>\r\n\r\n      <LoadingButton\r\n        fullWidth\r\n        size=\"large\"\r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        loading={isSubmitting}\r\n        disabled={!isValid}\r\n        sx={{ mt: 3 }}\r\n      >\r\n        Verify\r\n      </LoadingButton>\r\n    </form>\r\n  );\r\n}\r\n"],"names":["ChangePasswordForm","_ref","onSent","isMountedRef","useIsMountedRef","name","useParams","showPassword","setShowPassword","useState","enqueueSnackbar","useSnackbar","ResetPasswordSchema","Yup","shape","password","required","confirmpassword","oneOf","methods","useForm","resolver","yupResolver","defaultValues","handleSubmit","formState","isSubmitting","_jsx","FormProvider","onSubmit","async","axios","post","concat","data","current","error","_error$data","_error$data2","undefined","message","variant","children","_jsxs","Stack","spacing","RHFTextField","label","type","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","edge","Iconify","icon","LoadingButton","fullWidth","size","loading","RootStyle","styled","theme","display","minHeight","alignItems","justifyContent","padding","ChangePassword","sent","setSent","Page","title","sx","height","LogoOnlyLayout","Container","Box","maxWidth","mx","textAlign","SentIcon","mb","Typography","gutterBottom","Button","component","RouterLink","to","PATH_AUTH","login","mt","_Fragment","paragraph","color","RegisterForm","register","useAuth","RegisterSchema","firstName","username","email","phone","pin","min","max","ref","setError","errors","afterSubmit","Alert","severity","direction","xs","sm","disabled","bgcolor","boxShadow","ResetPasswordForm","onGetEmail","VerifyCodeForm","verify","user","VerifyCodeSchema","code1","code2","code3","code4","code5","code6","watch","control","setValue","isValid","mode","values","useEffect","document","addEventListener","handlePasteClipboard","event","_event$clipboardData","clipboardData","getData","split","forEach","call","querySelectorAll","node","index","value","fieldIndex","key","Object","join","keys","map","Controller","render","field","OutlinedInput","_objectSpread","id","autoFocus","placeholder","onChange","handleChangeWithNextField","handleChange","maxLength","target","replace","fieldIntIndex","Number","length","nextfield","querySelector","focus","inputProps","p","width"],"sourceRoot":""}